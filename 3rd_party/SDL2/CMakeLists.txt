cmake_minimum_required(VERSION 3.27)

set(SDL_SHARED OFF CACHE BOOL "")

if (${CMAKE_GENERATOR_TOOLSET} MATCHES "LLVM-vs")
	set(3DNOW OFF CACHE BOOL "")
	set(SSE OFF CACHE BOOL "")
	set(SSE2 OFF CACHE BOOL "")
	set(SSE3 OFF CACHE BOOL "")



	add_compile_options(-Wno-bad-function-cast)
	add_compile_options(-Wno-cast-align)
	add_compile_options(-Wno-cast-qual)
	add_compile_options(-Wno-conversion)
	add_compile_options(-Wno-covered-switch-default)
	add_compile_options(-Wno-deprecated-declarations)
	add_compile_options(-Wno-documentation) 
	add_compile_options(-Wno-double-promotion) 
	add_compile_options(-Wno-float-equal) 
	add_compile_options(-Wno-ignored-qualifiers) 
	add_compile_options(-Wno-implicit-function-declaration)
	add_compile_options(-Wno-knr-promoted-parameter)
	add_compile_options(-Wno-missing-prototypes)
	add_compile_options(-Wno-missing-variable-declarations)
	add_compile_options(-Wno-nonportable-system-include-path)
	add_compile_options(-Wno-null-pointer-arithmetic)
	add_compile_options(-Wno-pedantic)
	add_compile_options(-Wno-pragma-pack)
	add_compile_options(-Wno-reserved-id-macro)
	add_compile_options(-Wno-sign-conversion)
	add_compile_options(-Wno-sign-compare)
	add_compile_options(-Wno-shadow)
	add_compile_options(-Wno-shift-sign-overflow)
	add_compile_options(-Wno-strict-prototypes)
	add_compile_options(-Wno-string-conversion)
	add_compile_options(-Wno-switch-enum)
	add_compile_options(-Wno-undef)
	add_compile_options(-Wno-unreachable-code-break)
	add_compile_options(-Wno-unreachable-code-return)
	add_compile_options(-Wno-unused-local-typedef)
	add_compile_options(-Wno-unused-function)
	add_compile_options(-Wno-unused-macros)
	add_compile_options(-Wno-unused-parameter)
	add_compile_options(-Wno-unused-variable)
	add_definitions(-DHAVE_STDINT_H)
	add_definitions(-DSDL_CPUINFO_DISABLED)
	#add_compile_options(-mno-sse)

	#set(SDL_AUDIO OFF CACHE BOOL "")
endif()

add_subdirectory("${CMAKE_CURRENT_SOURCE_DIR}/sdl2_git")

target_include_directories(SDL2-static PUBLIC $<BUILD_INTERFACE:${SDL2_SOURCE_DIR}/include>)
set_property(TARGET SDL2-static SDL2main SDL2_test sdl_headers_copy PROPERTY FOLDER "3rd_party/sdl2")
